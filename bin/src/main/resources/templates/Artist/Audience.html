<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-map.min.js"></script>
    <script src="https://cdn.anychart.com/geodata/latest/custom/world/world.js"></script>
    <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
    <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">
</head>
<style>
    .nav {
        border: 0px;
    }

    .nav-link {
        border: 0px !important;
        font-weight: bold;
        color: black;
    }

    .nav-link:hover {
        color: black;
    }

    .nav-item:hover {
        border-radius: 10px;
    }

    .nav-link.active {
        border-bottom: 3px solid green !important;
    }

    .options {
        background-color: transparent !important;
        border: 2px solid black !important;
    }

    #world {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
    }
</style>

<body>
    <div class="container">
        <h1>Audience</h1>
        <div class="row">
            <div class="row">
                <div class="col-10">
                    <div class="d-flex align-items-center">
                        <h3>15.6K Listeners</h3>
                        <span class="mx-5"> ^ change since last month</span>
                    </div>
                    <p>9 SEP 2023 - 13 NOV 2023</p>
                </div>
                <div class="col-2 d-flex  align-items-center">
                    <button class="btn"><i class="bi bi-arrow-down-circle"></i></button>
                    <div class="dropdown">
                        <button type="button options" class="btn dropdown-toggle" data-bs-toggle="dropdown">
                            Last 1 week
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Last 1 month</a></li>
                            <li><a class="dropdown-item" href="#">Last 6 months</a></li>
                            <li><a class="dropdown-item" href="#">Last 1 years</a></li>
                        </ul>
                    </div>
                </div>
                <div>
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item me-3 pb-3">
                            <a class="nav-link active" id="tab1-tab" data-toggle="tab" href="#tab1" role="tab"
                                aria-controls="tab1" aria-selected="true">Listeners</a>
                        </li>
                        <li class="nav-item me-3 pb-3">
                            <a class="nav-link" id="tab2-tab" data-toggle="tab" href="#tab2" role="tab"
                                aria-controls="tab2" aria-selected="false">Followers</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">
                            <div>
                                <canvas id="chartListener"></canvas>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
                            <div>
                                <canvas id="chartFollower"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-6">
                    <h3>Listeners' gender</h3>
                    <div>
                        <canvas id="gender"></canvas>
                    </div>
                </div>
                <div class="col-6 d-flex flex-column align-items-center justify-content-between">
                    <h3>Listeners' age</h3>
                    <div class="w-100">
                        <canvas id="age"></canvas>
                    </div>
                </div>
            </div>
            <div class="mt-5">
                <h3>Listeners also like</h3>
                <div class="d-flex flex-wrap">
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                    <div class="listener d-flex flex-column align-items-center my-3">
                        <img src="../../static/img/ab1.webp" class="w-25 rounded-circle" alt="Cinque Terre">
                        <h6>Lilbaor</h6>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <h3>Top contries</h3>
                <div class="col-4">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <span>Last 7 days</span>
                                </th>
                                <th>9/9 - 16/9</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>
                                    <h6>United States</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>
                                    <h6>Viet Nam</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>
                                    <h6>Mexico</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>
                                    <h6>Canada</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-8">
                    <div id="world"></div>
                </div>
            </div>
            <div class="row mt-5">
                <h3>Top cities</h3>
                <div class="col-6">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <span>Last 7 days</span>
                                </th>
                                <th>9/9 - 16/9</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>
                                    <h6>United States</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>
                                    <h6>Viet Nam</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>
                                    <h6>Mexico</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>
                                    <h6>Canada</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-6">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <span>Last 7 days</span>
                                </th>
                                <th>9/9 - 16/9</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>
                                    <h6>United States</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>
                                    <h6>Viet Nam</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>
                                    <h6>Mexico</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>
                                    <h6>Canada</h6>
                                </td>
                                <td>12,2023</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        $(document).ready(function () {
            $('#myTab a').click(function (e) {
                e.preventDefault()
                $(this).tab('show')
            })
            const ctx = $('#chartListener');
            const age = $('#age');
            const gender = $('#gender');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                    datasets: [{
                        data: [12, 19, 3, 5, 2, 3],
                        borderWidth: 1,
                        fill: true,
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }, plugins: {
                    legend: {
                        display: false, // Ẩn chú thích
                    }, datalabels: {
                        anchor: 'end',
                        align: 'top',
                        formatter: function (value, context) {
                            return value; // Hiển thị dữ liệu ở đầu mỗi cột
                        }
                    }
                }
            });

            new Chart(age, {
                type: 'bar',
                data: {
                    labels: ['<18', '18-22', '23-27', '28-34', '35-44', '45-60', '60+'],
                    datasets: [{
                        data: [10, 27, 26, 16, 7, 3, 1],
                        borderWidth: 1,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.5)',
                            'rgba(75, 192, 192, 0.5)',
                            'rgba(255, 205, 86, 0.5)',
                            'rgba(54, 162, 235, 0.5)'
                        ],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                        },
                        y: {
                            display: false, // Ẩn thanh y
                            beginAtZero: true,
                        }
                    },
                    plugins: {
                        legend: {
                            display: false, // Ẩn chú thích
                        },
                    }
                }
            });

            new Chart(gender, {
                type: 'doughnut',
                data: {
                    labels: ['Male', 'Female', 'Non-binary', 'Not specific'],
                    datasets: [{
                        data: [16, 77, 1, 6],
                        borderWidth: 1,
                        fill: true,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.5)',
                            'rgba(75, 192, 192, 0.5)',
                            'rgba(255, 205, 86, 0.5)',
                            'rgba(54, 162, 235, 0.5)'
                        ],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                }
            });

            //Char Map
            anychart.onDocumentReady(function () {
                var map = anychart.map();
                map.geoData('anychart.maps.world');
                map.interactivity().selectionMode('none');
                map.padding(0);

                // Tạo một mảng dữ liệu tùy chỉnh
                var customData = [
                    { id: 'US', density: 1 }, // Ví dụ: Mật độ dân số của Hoa Kỳ
                    { id: 'CA', density: 50 },
                    { id: 'VN', density: 100000 },
                    { id: 'GB', density: 50000 }  // Ví dụ: Mật độ dân số của Canada
                    // Thêm các quốc gia hoặc khu vực khác tại đây
                ];

                var dataSet = anychart.data.set(customData);
                var densityData = dataSet.mapAs({ value: 'density' });
                var series = map.choropleth(densityData);

                // ... Các cấu hình và tùy chỉnh khác như ví dụ trước ...
                //Phạm vi chỉnh lại lượt nghe
                var scale = anychart.scales.ordinalColor([
                    { less: 1000 },
                    { from: 1000, to: 10000 },
                    { from: 10000, to: 100000 },
                    { from: 100000, to: 500000 },
                    { from: 500000, to: 1000000 },
                    { from: 1000000, to: 10000000 },
                    { from: 10000000, to: 100000000 },
                    { from: 100000000, to: 500000000 },
                    { greater: 500000000 }
                ]);
                scale.colors([
                    '#81d4fa',
                    '#4fc3f7',
                    '#29b6f6',
                    '#039be5',
                    '#0288d1',
                    '#0277bd',
                    '#01579b',
                    '#014377',
                    '#000000'
                ]);
                var colorRange = map.colorRange();
                colorRange.enabled(true).padding([0, 0, 20, 0]);
                colorRange
                    .ticks()
                    .enabled(true)
                    .stroke('3 #ffffff')
                    .position('center')
                    .length(7);
                colorRange.colorLineSize(5);
                colorRange.marker().size(7);
                colorRange
                    .labels()
                    .fontSize(11)
                    .padding(3, 0, 0, 0)
                    .format(function () {
                        var range = this.colorRange;
                        var name;
                        if (isFinite(range.start + range.end)) {
                            name = range.start + ' - ' + range.end;
                        } else if (isFinite(range.start)) {
                            name = 'More than ' + range.start;
                        } else {
                            name = 'Less than ' + range.end;
                        }
                        return name;
                    });

                series.colorScale(scale);
                // create zoom controls
                var zoomController = anychart.ui.zoom();
                zoomController.render(map);
                // Khởi tạo biểu đồ
                map.container('world');
                map.draw();
                var zoom = anychart.ui.zoom();
                zoom.renderTo('zoom-controls');

                // Kết nối thanh thu phóng với biểu đồ
                zoom.target(map);
            });
        })  
    </script>
</body>

</html>